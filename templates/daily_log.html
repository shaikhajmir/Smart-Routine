{% extends "layout.html" %}

{% block title %}Daily Log | SmartRoutine{% endblock %}

{% block content %}
<div class="page-header">
  <h2 class="page-title"><i class="fa-solid fa-clock"></i> Log Your Day</h2>
  <p class="page-subtitle">Track your time for improved productivity.</p>
</div>

<style>
  /* Standardized Styles */
  .form-box {
    background: var(--bg-card);
    padding: 30px;
    border-radius: 20px;
    margin-bottom: 40px;
    border: 1px solid var(--border-glass);
    box-shadow: var(--glass-shadow);
    max-width: 700px;
  }

  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-muted);
    font-size: 0.95rem;
  }

  .log-group {
    margin-bottom: 20px;
  }

  .btn-save {
    background: var(--accent);
    color: #000;
    width: 100%;
    padding: 14px;
    font-weight: 700;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1rem;
    transition: 0.3s;
    box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);
  }

  .btn-save:hover {
    transform: translateY(-2px);
    filter: brightness(1.1);
  }

  hr {
    border-top: 1px solid var(--border-glass) !important;
    opacity: 0.3;
  }
</style>

<!-- LOG FORM -->
<div class="form-box">
  <form method="POST">
    <label><i class="fa-regular fa-calendar"></i> Date</label>
    <input type="date" name="date" required value="{{ today_date }}">

    <!-- Mood Selector -->
    <div style="margin-top:20px;">
      <label>How was your day?</label>
      <div class="mood-options" style="display:flex; gap:10px;">
        {% for m, emoji in [('Great', 'ğŸ¤©'), ('Good', 'ğŸ™‚'), ('Okay', 'ğŸ˜'), ('Tired', 'ğŸ˜«'), ('Stressed', 'ğŸ˜¡')] %}
        <label style="cursor:pointer; text-align:center;">
          <input type="radio" name="mood" value="{{ m }}" style="display:none;" onclick="selectMood(this)">
          <span class="mood-span"
            style="font-size:2rem; padding:10px; border-radius:12px; border:1px solid var(--border-glass); display:block; transition:0.2s;">{{
            emoji }}</span>
          <span style="font-size:0.75rem; opacity:0.7;">{{ m }}</span>
        </label>
        {% endfor %}
      </div>
    </div>
    <script>
      function selectMood(el) {
        document.querySelectorAll('.mood-span').forEach(s => s.style.background = 'transparent');
        el.nextElementSibling.style.background = 'rgba(139, 92, 246, 0.3)';
      }
    </script>

    <hr style="border:0; border-top:1px solid var(--border); margin: 25px 0;">

    <h4 style="margin-bottom:20px; color:var(--text);">Activities (Hours)</h4>

    {% for act in activities %}
    <div class="log-group">
      <label>{{ act }}</label>
      <input type="number" name="{{ act }}" step="0.5" placeholder="0" min="0" max="24">
    </div>
    {% endfor %}

    <button type="submit" class="btn-save"><i class="fa-solid fa-check"></i> Save Daily Log</button>
  </form>
</div>
{% endblock %}